

{% extends 'employee_app/home.html' %}

{% block title %} employee-list {% endblock %}

{% block content %}

    <h2> <u> Employee List: </u> </h2>

    {% if employees %}
        <table border="1px">
            <tr>
                <th>Name</th> 
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Department</th>
                <th>Achievements</th>
                <th> Actions </th>
            </tr>
            {% for employee in employees %}
            <tr>
                <td>{{ employee.name }}</td>
                <td>{{ employee.email }}</td>
                <td>{{ employee.phone }}</td>
                <td>{{ employee.address }}</td>
                <td>{{ employee.department }}</td>
                <td>
                    {% for ach in employee.achievements.all %}
                        {{ ach.name }} {% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </td>
                <td> <a href="{% url 'update-employee' employee.id %}"> Update </a> 
                    | 
                    <a href="{% url 'delete-employee' employee.id %}"> Delete </a> 
                </td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <h2>No Employee Found</h2> 
    {% endif %}

    <br>
    <a href="{% url 'add-employee' %}">Add Employee</a>

    <br>
    <br>

    <a href="{% url 'home' %}"> Go Back </a>
    
{% endblock %}
